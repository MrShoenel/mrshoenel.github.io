var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},Blog;!function(a){var b;!function(a){var b=function(a){function b(){a.apply(this,arguments),this.type="all",this.reverse=!1}return __extends(b,a),b.prototype.itemsList=function(a){var b=this.reverse?-1:1,c=this.reverse?1:-1;return a.sort(function(a,d){return Date.parse(a.created)<Date.parse(d.created)?b:c})},b.canHandle=function(a){return"all"===(a+"").toLowerCase()},b}(Common.AListStrategy);a.ListAllStrategy=b;var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.itemsList=function(a){var b=Date.parse(this.type),c=Date.parse((parseInt(this.type)+1).toString()),d=this.reverse?-1:1,e=this.reverse?1:-1;return a.filter(function(a){var d=Date.parse(a.lastMod);return d>=b&&c>d}).sort(function(a,b){return Date.parse(a.lastMod)<Date.parse(b.lastMod)?d:e})},b.canHandle=function(a){return/^2[0-9]{3}$/.test(a)&&!isNaN(Date.parse(a))},b}(Common.AListStrategy);a.ByYearStrategy=c;var d=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.itemsList=function(a){var c=this.injected.locationSearch;if(void 0===c)return[];c=c.toLowerCase();var d=this.injected.scorer&&this.injected.scorer.indexOf("jaro-winkler")>=0?b.score_JaroWinkler:b.score,e=this.injected["scorer-min-certainty"]?parseFloat(this.injected["scorer-min-certainty"])||0:0;return a.map(function(a){return a.score=Math.max.apply(null,Object.keys(a).map(function(b){return angular.isString(a[b])?d(a[b].toLowerCase(),c):0})),a}).filter(function(a){return a.score>e}).sort(function(a,b){return b.score-a.score})},b.canHandle=function(a){return"search"===(a+"").toLowerCase()},b.score=function(a,b,c){if(a===b)return 1;if(""===b)return 0;var d,e,f,g,h,i=0,j=a.toLowerCase(),k=a.length,l=b.toLowerCase(),m=b.length,n=0,o=1;if(c&&(g=1-c),c)for(h=0;m>h;h+=1)f=j.indexOf(l[h],n),-1===f?o+=g:(n===f?d=.7:(d=.1," "===a[f-1]&&(d+=.8)),a[f]===b[h]&&(d+=.1),i+=d,n=f+1);else for(h=0;m>h;h+=1){if(f=j.indexOf(l[h],n),-1===f)return 0;n===f?d=.7:(d=.1," "===a[f-1]&&(d+=.8)),a[f]===b[h]&&(d+=.1),i+=d,n=f+1}return e=.5*(i/k+i/m)/o,l[0]===j[0]&&.85>e&&(e+=.15),e},b.score_JaroWinkler=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;for(a.length>b.length&&(v=[b,a],a=v[0],b=v[1]),g=~~Math.max(0,b.length/2-1),j=[],k=[],d=o=0,s=a.length;s>o;d=++o)for(c=a[d],n=Math.max(0,d-g),m=Math.min(d+g+1,b.length),e=p=n;m>=n?m>p:p>m;e=m>=n?++p:--p)if(null==k[e]&&c===b[e]){j[d]=c,k[e]=b[e];break}if(j=j.join(""),k=k.join(""),h=j.length,!h)return 0;for(l=0,d=q=0,t=j.length;t>q;d=++q)c=j[d],c!==k[d]&&l++;for(i=0,d=r=0,u=a.length;u>r&&(c=a[d],c===b[d]);d=++r)i++;return f=(h/a.length+h/b.length+(h-~~(l/2))/h)/3,f+.1*Math.min(i,4)*(1-f)},b}(Common.AListStrategy);a.SimpleSearchStrategy=d}(b=a.ArticleList||(a.ArticleList={}))}(Blog||(Blog={}));